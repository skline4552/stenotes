/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var y=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var M=(e,t)=>{for(var r in t)y(e,r,{get:t[r],enumerable:!0})},$=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of S(t))!P.call(e,n)&&n!==r&&y(e,n,{get:()=>t[n],enumerable:!(s=I(t,n))||s.enumerable});return e};var H=e=>$(y({},"__esModule",{value:!0}),e);var _={};M(_,{AVAILABLE_BULLETS_TYPES:()=>i,default:()=>x});module.exports=H(_);var B=require("obsidian");function h(e,t){if(!d(e))throw new Error("The provided text is not a valid bullet point.");return e.replace(/- \[.\]/,`- [${t.character}]`)}function d(e){return e.trimStart().startsWith("- [")}var g=class{constructor(t){this.plugin=t,this.setup()}setup(){i.forEach(({name:t,character:r})=>{this.plugin.addCommand({id:`change-bullet-to-${r.toLowerCase()}`,name:`Change bullet to ${t}`,editorCheckCallback:(s,n,a)=>{let o=n.getCursor(),c=n.getLine(o.line);if(d(c)){if(!s){let l=i.find(T=>T.character===r);if(!l)return console.error(`Type ${r} not found`),!1;let p=h(c,l);n.setLine(o.line,p)}return!0}return!1}})})}};var i=[{name:"Incomplete",character:" "},{name:"Complete",character:"x"},{name:"Irrelevant",character:"-"},{name:"Migrated",character:">"},{name:"Scheduled",character:"<"},{name:"Event",character:"o"}],x=class extends B.Plugin{async onload(){this.registerMarkdownPostProcessor((r,s)=>{let n=r.findAll(".task-list-item");if(n.length!==0){n.forEach((a,o)=>{a.setAttribute("data-bullet-id",o.toString())});for(let a of n){let o=a.getAttribute("data-task"),c=o?i.find(l=>l.character===o):i.find(l=>l.character===" ");if(!c)continue;let b=a.querySelector('input[type="checkbox"]');b&&b.addEventListener("contextmenu",l=>{let p=new B.Menu,T=a.getAttribute("data-bullet-id");for(let L of i)c.character!==L.character&&p.addItem(E=>{E.setTitle(`Change to: ${L.name}`),E.onClick(async()=>{let v=this.app.vault,A=this.app.workspace.getActiveFile();A&&v.process(A,k=>{let u=k.split(`
`),w=0,m=-1,C=-1;for(let f=0;f<u.length;f++)if(C++,d(u[f])){if(w.toString()===T){m=f;break}w++}return m===-1?(console.error("Bullet not found"),k):[...u.slice(0,C),h(u[m],L),...u.slice(m+1)].join(`
`)})})});p.showAtPosition({x:l.clientX,y:l.clientY})})}}}),this.commandHandler=new g(this)}};

/* nosourcemap */